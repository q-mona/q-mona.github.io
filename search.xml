<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>vue实现轮播图</title>
    <url>/vue-swiper/</url>
    <content><![CDATA[<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>本萌新还在学习阶段 如果你有独特的见解请务必说出来让我学习一哈~~  </p>
<hr>
<p><strong>此轮播图只针对手机哦</strong> 下图为gif预览 </p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/q-mona/mona@latest/vue-swiper/swiper.gif" alt=""></p>
<h1 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h1><ul>
<li>文件下载: <a href="https://cdn.jsdelivr.net/gh/q-mona/mona@latest/vue-swiper/swiper.vue" target="_blank" rel="noopener">swiper</a>  </li>
</ul>
<h2 id="使用自己的图片"><a href="#使用自己的图片" class="headerlink" title="使用自己的图片"></a>使用自己的图片</h2><p>在data返回的img数组中添加图片的资源就行了  </p>
<h2 id="修改图片大小"><a href="#修改图片大小" class="headerlink" title="修改图片大小"></a>修改图片大小</h2><p>如果想修改组件和图片的宽高修改36，37行的imgWidth和imgHeight就行 如图<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/q-mona/mona@latest/vue-swiper/use-1.png" alt=""></p>
<h2 id="图片太多下面的小圆点可能会挤在一块"><a href="#图片太多下面的小圆点可能会挤在一块" class="headerlink" title="图片太多下面的小圆点可能会挤在一块"></a>图片太多下面的小圆点可能会挤在一块</h2><p>此时修改145行ul的width就行 如图<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/q-mona/mona@latest/vue-swiper/use-2.png" alt=""></p>
<h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><p>直接导入.vue文件将其添加为子组件就vans了</p>
<h1 id="学习总结"><a href="#学习总结" class="headerlink" title="学习总结"></a>学习总结</h1><h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><h4 id="轮播图的效果"><a href="#轮播图的效果" class="headerlink" title="轮播图的效果"></a>轮播图的效果</h4><p>一开始是直接修改图片数组的下标改变图片但发现这样太生硬了<br>最终我将图片全都列为一排多余的部分overflow:hidden 然后用transition加js实现的平移效果</p>
<h4 id="vue自定义指令"><a href="#vue自定义指令" class="headerlink" title="vue自定义指令"></a>vue自定义指令</h4><p>本来打算直接操纵dom元素添加touch事件的省时省力=。=<br>但想了想既然vue不推荐直接操作dom元素 所以最终还是用directive绑定元素的touch事件<br>正好熟悉以下自定义指令的用法</p>
<hr>
<h3 id="未解决的问题"><a href="#未解决的问题" class="headerlink" title="未解决的问题"></a>未解决的问题</h3><h4 id="该轮播图到最后一张图片时会直接向左到第一张图片-。"><a href="#该轮播图到最后一张图片时会直接向左到第一张图片-。" class="headerlink" title="该轮播图到最后一张图片时会直接向左到第一张图片=。="></a>该轮播图到最后一张图片时会直接向左到第一张图片=。=</h4><p>实在是懒得改了 有好方法可以提醒我</p>
<h4 id="touchmove时图片移动有延迟"><a href="#touchmove时图片移动有延迟" class="headerlink" title="touchmove时图片移动有延迟"></a>touchmove时图片移动有延迟</h4><p>不知道是我chrome模拟ios的原因还是代码的原因 大概率后者=。=</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;swiper-container&quot; :style&#x3D;&quot;&#123;&#39;width&#39;:imgWidth+&#39;vw&#39;&#125;&quot;&gt;</span><br><span class="line">    &lt;div</span><br><span class="line">      class&#x3D;&quot;photo-container&quot;</span><br><span class="line">      :style&#x3D;&quot;&#123;width: imgWidth*imgLength+&#39;vw&#39;, &#39;margin-left&#39;: distance+&#39;vw&#39;&#125;&quot;</span><br><span class="line">      v-move&#x3D;&quot;&#123;setTouchmove: setTouchmove, setTouchend: setTouchend&#125;&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;img</span><br><span class="line">        v-for&#x3D;&quot;(item, index) in img&quot;</span><br><span class="line">        :src&#x3D;&quot;item&quot;</span><br><span class="line">        :key&#x3D;&quot;index&quot;</span><br><span class="line">        :style&#x3D;&quot;&#123;&#39;width&#39;:imgWidth+&#39;vw&#39;, &#39;height&#39;:imgHeight+&#39;vh&#39;&#125;&quot;</span><br><span class="line">      &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li</span><br><span class="line">        v-for&#x3D;&quot;index in imgLength&quot;</span><br><span class="line">        :key&#x3D;&quot;index&quot;</span><br><span class="line">        :style&#x3D;&quot;&#123;&#39;background&#39;:index-1&#x3D;&#x3D;currentImg?&#39;white&#39;:&#39;gainsboro&#39;&#125;&quot;</span><br><span class="line">      &gt;&lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data: function() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      img: [</span><br><span class="line">        &#x2F;&#x2F; 图片资源 网上随便找的</span><br><span class="line">        &#39;http:&#x2F;&#x2F;img.netbian.com&#x2F;file&#x2F;2019&#x2F;0824&#x2F;fe28123a86549be48bc00d639da77c60.jpg&#39;,</span><br><span class="line">        &#39;http:&#x2F;&#x2F;img.netbian.com&#x2F;file&#x2F;2019&#x2F;1216&#x2F;9cc8ee311939ec9bfcf9a30a7eb380bc.jpg&#39;,</span><br><span class="line">        &#39;http:&#x2F;&#x2F;img.netbian.com&#x2F;file&#x2F;2020&#x2F;0214&#x2F;1e7c0d6d4d943662e5b634e1400464a3.jpg&#39;,</span><br><span class="line">        &#39;http:&#x2F;&#x2F;img.netbian.com&#x2F;file&#x2F;2019&#x2F;0414&#x2F;3973632c2ca7ae26e346413d62c64970.jpg&#39;</span><br><span class="line">      ],</span><br><span class="line">      imgWidth: 95, &#x2F;&#x2F; 图片的宽度vw</span><br><span class="line">      imgHeight: 25, &#x2F;&#x2F; 图片的高度vh</span><br><span class="line">      currentImg: 0, &#x2F;&#x2F; 当前图片索引</span><br><span class="line">      imgLength: 0, &#x2F;&#x2F; 图片个数</span><br><span class="line">      distance: 0, &#x2F;&#x2F; 移动的距离</span><br><span class="line">      time: &#39;&#39; &#x2F;&#x2F; 定时器</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    &#x2F;&#x2F; 修改属性</span><br><span class="line">    setTouchmove: function(move) &#123;</span><br><span class="line">      &#x2F;&#x2F; 定时器存在则关闭</span><br><span class="line">      if (this.time) &#123;</span><br><span class="line">        clearInterval(this.time)</span><br><span class="line">        this.time &#x3D; &#39;&#39;</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      move &#x3D; (move * 100) &#x2F; document.body.clientWidth &#x2F;&#x2F; 换算为vw</span><br><span class="line">      if (move &gt; 0 &amp;&amp; this.distance - move &gt;&#x3D; -(this.imgLength - 1) * this.imgWidth - 2) &#123;</span><br><span class="line">        this.distance -&#x3D; move</span><br><span class="line">      &#125; else if (move &lt; 0 &amp;&amp; this.distance - move &lt;&#x3D; 2) &#123;</span><br><span class="line">        this.distance -&#x3D; move</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    setTouchend: function(move) &#123;</span><br><span class="line">      if (move &gt; 0 &amp;&amp; this.currentImg + 1 &lt; this.imgLength) this.currentImg++</span><br><span class="line">      else if (move &lt; 0 &amp;&amp; this.currentImg - 1 &gt;&#x3D; 0) this.currentImg--</span><br><span class="line">      this.distance &#x3D; -this.currentImg * this.imgWidth</span><br><span class="line">      &#x2F;&#x2F; 重启定时器</span><br><span class="line">      this.setTime()</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; 设置定时器</span><br><span class="line">    setTime: function() &#123;</span><br><span class="line">      this.time &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">        this.currentImg++ &#x2F;&#x2F; 当前图片的索引</span><br><span class="line">        this.distance +&#x3D; -this.imgWidth &#x2F;&#x2F; 移动的距离</span><br><span class="line">        if (this.currentImg &gt;&#x3D; this.imgLength) &#123;</span><br><span class="line">          this.currentImg &#x3D; 0</span><br><span class="line">          this.distance &#x3D; 0</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, 3000) &#x2F;&#x2F; 默认间隔时间为3s</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  directives: &#123;</span><br><span class="line">    &#x2F;&#x2F; 实现拖拽的指令</span><br><span class="line">    move: &#123;</span><br><span class="line">      bind: function(el, bindings) &#123;</span><br><span class="line">        let mouseDownX &#x3D; 0</span><br><span class="line">        let moveX &#x3D; 0</span><br><span class="line">        let flag &#x3D; false</span><br><span class="line">        el.addEventListener(</span><br><span class="line">          &#39;touchstart&#39;,</span><br><span class="line">          function(e) &#123;</span><br><span class="line">            bindings.value.setTouchmove()</span><br><span class="line">            &#x2F;&#x2F; 鼠标按下时的鼠标所在的X坐标</span><br><span class="line">            mouseDownX &#x3D; e.touches[0].pageX</span><br><span class="line">            &#x2F;&#x2F; 表示鼠标已按下</span><br><span class="line">            flag &#x3D; true</span><br><span class="line">          &#125;,</span><br><span class="line">          false</span><br><span class="line">        )</span><br><span class="line">        el.addEventListener(</span><br><span class="line">          &#39;touchmove&#39;,</span><br><span class="line">          function(e) &#123;</span><br><span class="line">            &#x2F;&#x2F; 确保鼠标已按下</span><br><span class="line">            if (flag) &#123;</span><br><span class="line">              moveX &#x3D; mouseDownX - e.touches[0].pageX</span><br><span class="line">              bindings.value.setTouchmove(moveX)</span><br><span class="line">              mouseDownX &#x3D; e.touches[0].pageX</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          false</span><br><span class="line">        )</span><br><span class="line">        el.addEventListener(</span><br><span class="line">          &#39;touchend&#39;,</span><br><span class="line">          function() &#123;</span><br><span class="line">            bindings.value.setTouchend(moveX)</span><br><span class="line">            &#x2F;&#x2F; 标识已松开鼠标</span><br><span class="line">            flag &#x3D; false</span><br><span class="line">          &#125;,</span><br><span class="line">          false</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted: function() &#123;</span><br><span class="line">    &#x2F;&#x2F; 记录图片个数</span><br><span class="line">    this.imgLength &#x3D; this.img.length</span><br><span class="line">    &#x2F;&#x2F; 启动定时器</span><br><span class="line">    this.setTime()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.swiper-container &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">  margin: 1vh auto;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line">.photo-container &#123;</span><br><span class="line">  transition: all 1s;</span><br><span class="line">&#125;</span><br><span class="line">.photo-container &gt; img &#123;</span><br><span class="line">  float: left;</span><br><span class="line">&#125;</span><br><span class="line">ul &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  width: 10vw;</span><br><span class="line">  justify-content: space-around;</span><br><span class="line">  position: absolute;</span><br><span class="line">  bottom: 5px;</span><br><span class="line">  left: 50%;</span><br><span class="line">  transform: translate(-50%, 0);</span><br><span class="line">&#125;</span><br><span class="line">li &#123;</span><br><span class="line">  list-style: none;</span><br><span class="line">  width: 1vh;</span><br><span class="line">  height: 1vh;</span><br><span class="line">  border-radius: 50%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>web</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>实用的js小技巧</title>
    <url>/js-skill-1/</url>
    <content><![CDATA[<h1 id="js数组的使用方法"><a href="#js数组的使用方法" class="headerlink" title="js数组的使用方法"></a>js数组的使用方法</h1><h2 id="sort-方法"><a href="#sort-方法" class="headerlink" title="sort()方法"></a>sort()方法</h2><p>sort 多用于数组的排序<br>a 表示数组的<strong>后一项</strong><br>b 表示数组的<strong>前一项</strong>  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [1,5,2,4,3]</span><br><span class="line">arr &#x3D; arr.sort((a, b) &#x3D;&gt; a-b) &#x2F;&#x2F; a-b表示升序 12345</span><br><span class="line">arr &#x3D; arr.sort((a, b) &#x3D;&gt; b-a) &#x2F;&#x2F; b-a表示降序 54321</span><br></pre></td></tr></table></figure>
<h2 id="reduce-方法"><a href="#reduce-方法" class="headerlink" title="reduce()方法"></a>reduce()方法</h2><ul>
<li>对数组内容计数     </li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [1,1,1,2,6,2,3,5,5,4,3,4,1]</span><br><span class="line"></span><br><span class="line">arr &#x3D; arr.reduce((pre, item) &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; pre[item]为undefined则初始化为1</span><br><span class="line">    if(!pre[item]) </span><br><span class="line">        pre[item] &#x3D; 1</span><br><span class="line">    else </span><br><span class="line">      pre[item]++    </span><br><span class="line">    &#x2F;&#x2F; 返回数组</span><br><span class="line">    return pre</span><br><span class="line">&#125;,&#123;&#125;) </span><br><span class="line">&#x2F;&#x2F; 此处&#123;&#125;代变返回对象 []为返回数组</span><br><span class="line">&#x2F;&#x2F; (由于此处直接返回数组可能会出现undefined所以返回对象后转数组更好)</span><br><span class="line"></span><br><span class="line">console.log(arr) </span><br><span class="line">&#x2F;&#x2F; 结果为&#123; &#39;1&#39;: 4, &#39;2&#39;: 2, &#39;3&#39;: 2, &#39;4&#39;: 2, &#39;5&#39;: 2, &#39;6&#39;: 1 &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 使用Object.values将对象变为数组</span><br><span class="line">arr &#x3D; Object.values(arr)</span><br><span class="line">console.log(arr)</span><br><span class="line">&#x2F;&#x2F; 结果为[ 4, 2, 2, 2, 2, 1 ]</span><br></pre></td></tr></table></figure>

<ul>
<li>数组的扁平化处理    </li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [1,2,[4,2,5],3,[4,3,[53,34],4],6]</span><br><span class="line"></span><br><span class="line">function flatten(arr)&#123;</span><br><span class="line">    return arr.reduce(function(prev,item)&#123;</span><br><span class="line">        return prev.concat(Array.isArray(item)?flatten(item):item);</span><br><span class="line">    &#125;,[]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(flatten(arr))</span><br><span class="line">&#x2F;&#x2F; 结果为 [ 1, 2, 4,  2,  5, 3, 4, 3, 53, 34, 4, 6 ]</span><br></pre></td></tr></table></figure>

<h1 id="寻找最大公约数"><a href="#寻找最大公约数" class="headerlink" title="寻找最大公约数"></a>寻找最大公约数</h1><p>三目运算+递归 =。=</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function gcd(a, b)&#123;</span><br><span class="line">    return b &#x3D;&#x3D; 0? a : gcd(b, a%b)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(gcd(350, 100)) &#x2F;&#x2F; 结果为50</span><br></pre></td></tr></table></figure>

<h1 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h1><ul>
<li>快速排序  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [1, 2, 5, 45, 32, 45, 67, 87, 6]</span><br><span class="line"></span><br><span class="line">function quickSort(arr) &#123;</span><br><span class="line">    &#x2F;&#x2F; 空数组直接返回</span><br><span class="line">    if (arr.length &lt; 1)</span><br><span class="line">        return []</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 取数组的中间的值为分割线</span><br><span class="line">    let length &#x3D; Math.floor(arr.length &#x2F; 2)</span><br><span class="line">    let q &#x3D; arr.splice(length, 1)[0]</span><br><span class="line">    let left &#x3D; [], right &#x3D; []</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 小于分割的值放左 大于等于放右</span><br><span class="line">    for (let i &#x3D; 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">        if (arr[i] &lt; q)</span><br><span class="line">            left.push(arr[i])</span><br><span class="line">        else</span><br><span class="line">            right.push(arr[i])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 递归重复上面做法直到为空数组</span><br><span class="line">    return quickSort(left).concat(q, quickSort(right))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(quickSort(arr))</span><br><span class="line">&#x2F;&#x2F; 结果为 [ 1,  2,  5,  6, 32, 45, 45, 67, 87 ]</span><br></pre></td></tr></table></figure>

<ul>
<li>计数排序<br>典型的牺牲空间提高速度的方法 <strong>数组过大</strong>时不建议使用</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [1, 6, 1, 5, 2, 54, 12, 4, 21, 21, -12, -3]</span><br><span class="line"></span><br><span class="line">function countSort(arr) &#123;</span><br><span class="line">    let max &#x3D; Math.max(...arr)</span><br><span class="line">    let min &#x3D; Math.min(...arr)</span><br><span class="line">    let tmp &#x3D; new Array(max - min + 1)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 开始计数</span><br><span class="line">    arr.forEach(item &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F; 数组为undefined初始化为1 否则加1</span><br><span class="line">        if (!tmp[item - min])</span><br><span class="line">            tmp[item - min] &#x3D; 1</span><br><span class="line">        else</span><br><span class="line">            tmp[item - min]++</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    arr &#x3D; [] &#x2F;&#x2F; 直接对原数组进行修改</span><br><span class="line">    tmp.forEach((item, index) &#x3D;&gt; &#123;</span><br><span class="line">        while (item &gt; 0) &#123;</span><br><span class="line">            arr.push(index + min)</span><br><span class="line">            item--</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    return arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(countSort(arr))</span><br><span class="line">&#x2F;&#x2F; [ -12, -3, 1,  1,  2, 4,  5, 6, 12, 21, 21, 54 ]</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>简单介绍js中的原型链</title>
    <url>/js-prototype/</url>
    <content><![CDATA[<h1 id="构造函数的原型"><a href="#构造函数的原型" class="headerlink" title="构造函数的原型"></a>构造函数的原型</h1><p>在js中每一个对象都有一个原型——<strong>prototype</strong><br>而由构造函数初始化的<strong>实例</strong>也可以通过 <strong>proto</strong>方法指向原型</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; star构造函数</span><br><span class="line">function star(name)&#123;</span><br><span class="line">  this.name &#x3D; name</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; ldh实例</span><br><span class="line">var ldh &#x3D; new star(&#39;刘德华&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 指向原型</span><br><span class="line">console.log(star.prototype)</span><br><span class="line">console.log(ldh.__proto__)</span><br></pre></td></tr></table></figure>
<p>上面控制台打印出的结果是一样的 如下<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/q-mona/mona@latest/images/js-prototype/%E5%8E%9F%E5%9E%8B%E9%93%BE-1.png" alt=""> </p>
<h1 id="原型链–构造函数的原型的原型的…原型"><a href="#原型链–构造函数的原型的原型的…原型" class="headerlink" title="原型链–构造函数的原型的原型的…原型"></a>原型链–构造函数的原型的原型的…原型</h1><p>在上图原型中可以看到还有一个<strong>proto</strong>属性<br>这个属性就是构造函数的原型指向的原型<strong>Object</strong><br>那么Object还有木有原型呢？ 答案是 有！<br>不过指向了<strong>null</strong><br>在开头的图片有详细的箭头 套娃也到此结束<br><strong>每个对象都可以有一个原型_proto_，这个原型还可以有它自己的原型，以此类推，形成一个原型链。</strong></p>
<h1 id="原型的继承"><a href="#原型的继承" class="headerlink" title="原型的继承"></a>原型的继承</h1><p>通过构造函数创建的实例可以调用原型中的方法  </p>
<ul>
<li>当实例调用方法时先看自己的原型是否存在调用的方法  </li>
</ul>
<p>例如  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; star构造函数</span><br><span class="line">function star(name)&#123;</span><br><span class="line">  this.name &#x3D; name</span><br><span class="line">  &#x2F;&#x2F; sing方法</span><br><span class="line">  this.sing &#x3D; function() &#123;</span><br><span class="line">    console.log(&#39;冷冷的冰雨在脸上胡乱的拍~&#39;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var ldh &#x3D; new star(&#39;刘德华&#39;)</span><br><span class="line">ldh.sing()</span><br></pre></td></tr></table></figure>
<p>效果如图<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/q-mona/mona@latest/images/js-prototype/%E5%8E%9F%E5%9E%8B%E9%93%BE-2.png" alt=""> </p>
<ul>
<li>实例的原型未定义方法则向原型的原型的…原型中寻找 以此类推</li>
</ul>
<p>例如</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; star构造函数 未定义sing</span><br><span class="line">function star(name)&#123;</span><br><span class="line">  this.name &#x3D; name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 向star的原型Object中添加sing方法</span><br><span class="line">Object.prototype.sing &#x3D; function()&#123;</span><br><span class="line">    console.log(&#39;冷冷的冰雨在脸上胡乱的拍~哦呜~&#39;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var ldh &#x3D; new star(&#39;刘德华&#39;)</span><br><span class="line">ldh.sing()</span><br></pre></td></tr></table></figure>
<p>ldh.sing()仍然可以调用 如图<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/q-mona/mona@latest/images/js-prototype/%E5%8E%9F%E5%9E%8B%E9%93%BE-3.png" alt=""> </p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title>webpack基本配置</title>
    <url>/webpack/</url>
    <content><![CDATA[<h1 id="第一步-环境安装"><a href="#第一步-环境安装" class="headerlink" title="第一步 环境安装"></a>第一步 环境安装</h1><p>在安装webpack前需要先下载<a href="https://nodejs.org/en/" target="_blank" rel="noopener">node.js</a><br>一般选择稳定版的LTS下载就行</p>
<h1 id="第二步-安装webpack"><a href="#第二步-安装webpack" class="headerlink" title="第二步 安装webpack"></a>第二步 安装webpack</h1><p>打开cmd 我用的vscode可以在终端输入命令<br>先切换到<strong>项目的根目录</strong> 输入<br><em>如果没全局安装过要先<strong>全局</strong>安装webpack以便识别webpack命令</em></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i webpack webpack-cli -g</span><br></pre></td></tr></table></figure>
<p>之后 在项目中安装webpack<br><em>webpack4.0版本以后还要安装webpack-cli=。=</em></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i webpack webpack-cli -D</span><br></pre></td></tr></table></figure>
<h1 id="第三步-初始化项目"><a href="#第三步-初始化项目" class="headerlink" title="第三步 初始化项目"></a>第三步 初始化项目</h1><p>在命令行输入 <strong>注意之后的路径全在你项目的根目录</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure>
<p>成功后可以看见项目中多了一个package.json的文件</p>
<p>在根目录新建一个webpack.config.js文件用于配置webpack属性<br>在其中输入以下代码</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    mode: &#39;development&#39;,</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure>
<p>development指开发阶段 代码未压缩<br>mode还可以等于production发布阶段 代码自动压缩</p>
<h1 id="第四步-安装webpack-dev-server"><a href="#第四步-安装webpack-dev-server" class="headerlink" title="第四步 安装webpack-dev-server"></a>第四步 安装webpack-dev-server</h1><p>此处可以使代码保存后浏览器就出现最新效果<br>在命令行输入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i webpack-dev-server -D</span><br></pre></td></tr></table></figure>

<p>在package.json的scripts中新增dev</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,</span><br><span class="line">  &quot;dev&quot;: &quot;webpack-dev-server --open --contentBase src --hot&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>open:输入命令(npm run dev)直接打开浏览器<br>contentBase src:打开浏览器直接跳到src目录下的index.html<br>hot:热更新 使网页不重载就刷新</p>
<h1 id="第五步-安装html-webpack-plugin"><a href="#第五步-安装html-webpack-plugin" class="headerlink" title="第五步 安装html-webpack-plugin"></a>第五步 安装html-webpack-plugin</h1><p>作用:在内存中生成index.html</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i html-webpack-plugin -D</span><br></pre></td></tr></table></figure>
<p>在webpack.config.js中新增</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;新增部分</span><br><span class="line">const path &#x3D; require(&#39;path&#39;)</span><br><span class="line">const htmlWebpackPlugin &#x3D; require(&#39;html-webpack-plugin&#39;)</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    mode: &#39;development&#39;,</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;新增部分</span><br><span class="line">    plugins:[&#x2F;&#x2F;所有的插件都在这里配置</span><br><span class="line">      new htmlWebpackPlugin(&#123;</span><br><span class="line">        template: path.join(__dirname,&#39;.&#x2F;src&#x2F;index.html&#39;),</span><br><span class="line">        filename: &#39;index.html&#39;</span><br><span class="line">      &#125;)</span><br><span class="line">    ]</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>
<p><strong>此时安装完毕后index.html在内存中会自动引入index.js 无需自己用src=’…’引入</strong></p>
<h1 id="第六步-识别css文件"><a href="#第六步-识别css文件" class="headerlink" title="第六步 识别css文件"></a>第六步 识别css文件</h1><p>此时在index.js中直接import ‘xxx.css’会报错<br>只能直接引用js文件 要引用css还要安装loader<br>首先输入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i style-loader css-loader -D</span><br></pre></td></tr></table></figure>
<p>之后打开webpack.config.js 新增</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const path &#x3D; require(&#39;path&#39;)</span><br><span class="line">const htmlWebpackPlugin &#x3D; require(&#39;html-webpack-plugin&#39;)</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    mode: &#39;development&#39;,</span><br><span class="line">    plugins:[</span><br><span class="line">      new htmlWebpackPlugin(&#123;</span><br><span class="line">        template: path.join(__dirname,&#39;.&#x2F;src&#x2F;index.html&#39;),</span><br><span class="line">        filename: &#39;index.html&#39;</span><br><span class="line">      &#125;)</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;新增部分</span><br><span class="line">    module:&#123;&#x2F;&#x2F;module用于配置所有第三方模块加速器</span><br><span class="line">      rules:[&#x2F;&#x2F;rules为第三方模块的匹配规则</span><br><span class="line">        &#123;test:&#x2F;\.css$&#x2F;,use:[&#39;style-loader&#39;,&#39;css-loader&#39;]&#125;,&#x2F;&#x2F;处理css文件 注意use中的内容顺序不能乱先style在css</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>
<h1 id="第七步-安装url-loader-file-loader"><a href="#第七步-安装url-loader-file-loader" class="headerlink" title="第七步 安装url-loader file-loader"></a>第七步 安装url-loader file-loader</h1><p>此处可以让webpack识别url</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i url-loader file-loader -D</span><br></pre></td></tr></table></figure>
<p>在webpack.config.js的module rules中新增</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;test:&#x2F;\.(jpg|png|gif|bmp|jpeg)$&#x2F;,use:&#39;url-loader&#39;&#125;&#x2F;&#x2F;处理图片</span><br><span class="line">&#123;test:&#x2F;\.(ttf|eot|avg|woff|woff2)$&#x2F;,use:&#39;url-loader&#39;&#125;&#x2F;&#x2F;处理字体</span><br></pre></td></tr></table></figure>

<h1 id="第八步-安装babel"><a href="#第八步-安装babel" class="headerlink" title="第八步 安装babel"></a>第八步 安装babel</h1><p>由于webpack处理不了一些es6以后高级语法 所以需要安装babel帮忙处理</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i @babel&#x2F;core babel-loader -D</span><br><span class="line">npm i @babel&#x2F;preset-react @babel&#x2F;preset-env babel-preset-mobx</span><br><span class="line">npm install --save-dev @babel&#x2F;plugin-proposal-object-rest-spread</span><br><span class="line">npm install --save-dev @babel&#x2F;plugin-transform-runtime</span><br><span class="line">npm install --save @babel&#x2F;runtime</span><br></pre></td></tr></table></figure>
<p>看着多但是装的还是很快的<br>之后在根目录新建 <strong>.babelrc</strong> 文件不用后缀名 写入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;presets&quot;: [&quot;@babel&#x2F;preset-env&quot;, &quot;@babel&#x2F;preset-react&quot;, &quot;mobx&quot;],</span><br><span class="line">    &quot;plugins&quot;: [</span><br><span class="line">        &quot;@babel&#x2F;plugin-proposal-object-rest-spread&quot;,</span><br><span class="line">        &quot;@babel&#x2F;plugin-transform-runtime&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>再去webpack.config.js的module rules中增加</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;test:&#x2F;\.js$&#x2F;,use:&#39;babel-loader&#39;,exclude:&#x2F;(node_modules|bower_components)&#x2F;&#125;,&#x2F;&#x2F;配置babel</span><br></pre></td></tr></table></figure>
<p>就完成了 ps(我装完babel后上面1-7的插件全没了直接黑人问号？？？.jpg)<br>报错信息显示Module not found: Error: Can’t resolve xxx …<br>只好重新安装一边上面的插件(npm i xxx -D)=。=就ok了</p>
<h1 id="更多信息"><a href="#更多信息" class="headerlink" title="更多信息"></a>更多信息</h1><p>此时webpack的基本配置已经完成 在命令行输入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm run dev</span><br></pre></td></tr></table></figure>
<p>不出意外可以直接运行index.html</p>
<p>如果向了解更多还请看webpack的<a href="https://www.webpackjs.com/concepts/" target="_blank" rel="noopener">官方文档</a></p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>web</tag>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title>vue的生命周期</title>
    <url>/vue-lifecycle/</url>
    <content><![CDATA[<!-- ![pic]() -->
<h1 id="new-Vue"><a href="#new-Vue" class="headerlink" title="new Vue()"></a>new Vue()</h1><p>这是new一个vue的实例对象<br>此时就会进入组件的创建过程</p>
<h1 id="init-Event-amp-Lifecycle"><a href="#init-Event-amp-Lifecycle" class="headerlink" title="init Event &amp; Lifecycle"></a>init Event &amp; Lifecycle</h1><p>初始化组件的事件和生命周期函数<br>当执行完这一步后 组件的生命周期函数已经初始化完毕 等待依次调用</p>
<h1 id="beforeCreate"><a href="#beforeCreate" class="headerlink" title="beforeCreate"></a>beforeCreate</h1><p>这是组件创建阶段的第一个生命周期函数<br>此时，组件的data和method以及页面的dom结构都还没有初始化<br>所以此阶段作用有限 <strong>很少使用</strong></p>
<h1 id="init-injections-amp-reactivity"><a href="#init-injections-amp-reactivity" class="headerlink" title="init injections &amp; reactivity"></a>init injections &amp; reactivity</h1><p>这个阶段初始化data和methods</p>
<h1 id="created"><a href="#created" class="headerlink" title="created"></a>created</h1><p>第二给生命周期函数<br>此时data和methods以及被初始化<br><strong>但页面的dom结构还没初始化</strong>所以页面为空白<br><strong>在这个生命周期函数中 经常调用ajax请求</strong></p>
<h1 id="判断el和template是否存在"><a href="#判断el和template是否存在" class="headerlink" title="判断el和template是否存在"></a>判断el和template是否存在</h1><h2 id="el存在"><a href="#el存在" class="headerlink" title="el存在"></a>el存在</h2><p>拿到data数据并且解析执行模板结构中的指令<br>当所有指令解析完毕 模板界面将被渲染到<strong>内存</strong><br>此时模板还没有挂载到页面上在内存中 所以看不到界面</p>
<h2 id="el不存在"><a href="#el不存在" class="headerlink" title="el不存在"></a>el不存在</h2><p>则等待vm.$mount(‘#id’)调用在执行上述步骤<br>如果不调用则页面为空</p>
<h1 id="beforeMount"><a href="#beforeMount" class="headerlink" title="beforeMount"></a>beforeMount</h1><p>第三个生命周期函数 在模板编译完成时会立刻执行<br>此时页面的dom还未被真正的渲染到页面<br><strong>只有模板 没有data数据</strong></p>
<h1 id="create-vm-el-and-replace-el-with-it"><a href="#create-vm-el-and-replace-el-with-it" class="headerlink" title="create vm.$el and replace el with it"></a>create vm.$el and replace el with it</h1><p>把内存中渲染好的模板结构 替换到页面上</p>
<h1 id="mounted"><a href="#mounted" class="headerlink" title="mounted"></a>mounted</h1><p>此时是<strong>创建阶段最后一个生命函数</strong><br>页面已经真正渲染完成<br>当此函数执行完毕 组件就离开了创建阶段进入到运行中的阶段<br><strong>如果用到了一些第三方的UI插件，并且还需要被初始化</strong><br><strong>那么必须在这里初始化插件</strong><br><strong>如果在此之前就初始化 在执行上一步create vm.$el…时数据可能被替换</strong></p>
<h1 id="运行阶段"><a href="#运行阶段" class="headerlink" title="运行阶段"></a>运行阶段</h1><p>组件运行中的生命周期函数<br>他们会根据data数据的变化选择性的触发</p>
<h2 id="beforeUpdate"><a href="#beforeUpdate" class="headerlink" title="beforeUpdate"></a>beforeUpdate</h2><p>执行本函数时数据时最新的<br><strong>但页面的数据还是旧的</strong></p>
<h2 id="virtual-DOM-re-render-and-patch"><a href="#virtual-DOM-re-render-and-patch" class="headerlink" title="virtual DOM re-render and patch"></a>virtual DOM re-render and patch</h2><p>根据最新的data数据重新渲染内存中的模板结构<br>并把渲染好的模板结构替换到页面上</p>
<h2 id="updated"><a href="#updated" class="headerlink" title="updated"></a>updated</h2><p>此时页面已经完成的更新data数据和页面数据都是最新的</p>
<h1 id="之后是销毁阶段"><a href="#之后是销毁阶段" class="headerlink" title="之后是销毁阶段"></a>之后是销毁阶段</h1><h2 id="beforeDestroy"><a href="#beforeDestroy" class="headerlink" title="beforeDestroy"></a>beforeDestroy</h2><p>即将销毁但还可以使用</p>
<h2 id="Teardown-watchers-child-components-and-event-listeners"><a href="#Teardown-watchers-child-components-and-event-listeners" class="headerlink" title="Teardown watchers,child components and event listeners"></a>Teardown watchers,child components and event listeners</h2><p>销毁过程</p>
<h2 id="destroyed"><a href="#destroyed" class="headerlink" title="destroyed"></a>destroyed</h2><p>此时销毁完成data methods都不可用</p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>web</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>微信小程序实现翻译功能</title>
    <url>/WeChat-translation/</url>
    <content><![CDATA[<h1 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>在写这个微信小程序之前正好学习了一下vue.js<br>结果微信小程序这玩意儿的代码格式和vue竟然差不多<br>刚好可以一边写微信小程序一边复习一下vue的用法 一举两得啊=。=<br><strong>本项目只是我对微信小程序的初步认识哈 如果程序有缺憾(肯定有=。=)请见谅</strong></p>
<h2 id="项目资源地址"><a href="#项目资源地址" class="headerlink" title="项目资源地址"></a>项目资源地址</h2><p><a href="https://github.com/q-mona/wechat-translation/tree/master" target="_blank" rel="noopener">https://github.com/q-mona/wechat-translation/tree/master</a></p>
<h1 id="使用须知"><a href="#使用须知" class="headerlink" title="使用须知"></a>使用须知</h1><h2 id="注册百度翻译账号"><a href="#注册百度翻译账号" class="headerlink" title="注册百度翻译账号"></a>注册百度翻译账号</h2><p>这个小程序需要配合百度翻译的API一同使用<br>如果没有注册百度翻译账号的请去<a href="https://api.fanyi.baidu.com" target="_blank" rel="noopener">https://api.fanyi.baidu.com</a>注册<br>注册完成后在控制台找到自己的appid和key 如图<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/q-mona/wechat-translation@latest/translation_app/assets/key.png" alt="pic"></p>
<h2 id="填写appid和key"><a href="#填写appid和key" class="headerlink" title="填写appid和key"></a>填写appid和key</h2><p>完成后找到utils/info.js填写信息即可直接运行 如图<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/q-mona/wechat-translation@latest/translation_app/assets/info.png" alt="pic"></p>
<h1 id="代码预览"><a href="#代码预览" class="headerlink" title="代码预览"></a>代码预览</h1><h2 id="index界面"><a href="#index界面" class="headerlink" title="index界面"></a>index界面</h2><p>index.wxml</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!--背景颜色--&gt;</span><br><span class="line">&lt;view class=<span class="string">"background"</span>&gt;&lt;/view&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--翻译内容区域--&gt;</span><br><span class="line">&lt;view style=<span class="string">"width:100%"</span>&gt;</span><br><span class="line">  &lt;scroll-view scroll-y=<span class="string">"true"</span> scroll-into-view=<span class="string">"&#123;&#123;into&#125;&#125;"</span>&gt;</span><br><span class="line">    &lt;view wx:<span class="keyword">for</span>=<span class="string">"&#123;&#123;text&#125;&#125;"</span> wx:<span class="keyword">if</span>=<span class="string">"&#123;&#123;index!=0&#125;&#125;"</span> wx:key=<span class="string">"to"</span>&gt;</span><br><span class="line">      &lt;view class=<span class="string">"text text_from"</span>&gt;</span><br><span class="line">        &lt;text&gt;原文&lt;/text&gt;</span><br><span class="line">        &lt;image class=<span class="string">"audio_img"</span> src=<span class="string">"../../assets/icon/audio.png"</span> mode=<span class="string">"aspectFill"</span> data-index=<span class="string">"&#123;&#123;index&#125;&#125;"</span> data-type=<span class="string">"from"</span> bindtap=<span class="string">"audio_click"</span>&gt;&lt;/image&gt;</span><br><span class="line">        &lt;text selectable=<span class="string">"true"</span>&gt;\n&#123;&#123;item._from&#125;&#125;&lt;/text&gt;</span><br><span class="line">      &lt;/view&gt;</span><br><span class="line">      &lt;view class=<span class="string">"text text_to"</span>&gt;</span><br><span class="line">        &lt;text&gt;翻译&lt;/text&gt;</span><br><span class="line">        &lt;image class=<span class="string">"audio_img"</span> src=<span class="string">"../../assets/icon/audio.png"</span> mode=<span class="string">"aspectFill"</span> data-index=<span class="string">"&#123;&#123;index&#125;&#125;"</span> data-type=<span class="string">"to"</span> bindtap=<span class="string">"audio_click"</span>&gt;&lt;/image&gt;</span><br><span class="line">        &lt;text id=<span class="string">"num&#123;&#123;index&#125;&#125;"</span> selectable=<span class="string">"true"</span>&gt;\n&#123;&#123;item.to&#125;&#125;&lt;/text&gt;</span><br><span class="line">      &lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/scroll-view&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--底部输入区域--&gt;</span><br><span class="line">&lt;view&gt;</span><br><span class="line">  &lt;image class=<span class="string">"icon language"</span> src=<span class="string">"../../assets/icon/language.png"</span> bindtap=<span class="string">"change_language"</span> mode=<span class="string">"aspectFill"</span>&gt;&lt;/image&gt;</span><br><span class="line">  &lt;input placeholder=<span class="string">"当前 &#123;&#123;_from&#125;&#125; 转 &#123;&#123;to&#125;&#125;"</span> bindinput=<span class="string">"inputText"</span> bindconfirm=<span class="string">"finish"</span> value=<span class="string">'&#123;&#123;content&#125;&#125;'</span>&gt;&lt;/input&gt;</span><br><span class="line">  &lt;image class=<span class="string">"icon send"</span> src=<span class="string">"../../assets/icon/send.png"</span> bindtap=<span class="string">"finish"</span> mode=<span class="string">"aspectFill"</span>&gt;&lt;/image&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--隐藏的音频--&gt;</span><br><span class="line">&lt;audio id=<span class="string">"myAudio"</span> src=<span class="string">"&#123;&#123;audio_url&#125;&#125;"</span>&gt;&lt;/audio&gt;</span><br></pre></td></tr></table></figure>
<p>index.wxss</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.background &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 100%;</span><br><span class="line">  position: fixed;</span><br><span class="line">  background: whitesmoke;</span><br><span class="line">  z-index: -9999;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">scroll-view &#123;</span><br><span class="line">  height: 1100rpx;</span><br><span class="line">  margin-bottom: 100rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.text &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  padding: 10rpx;</span><br><span class="line">  color: black;</span><br><span class="line">  background-color: white;</span><br><span class="line">  border-radius: 25rpx;</span><br><span class="line">  margin-top: 5rpx;</span><br><span class="line">  width: 50%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.text_from &#123;</span><br><span class="line">  <span class="built_in">float</span>: right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.text_to &#123;</span><br><span class="line">  <span class="built_in">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.audio_img &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 10rpx;</span><br><span class="line">  margin-left: 20rpx;</span><br><span class="line">  width: 40rpx;</span><br><span class="line">  height: 40rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">input &#123;</span><br><span class="line">  text-align: center;</span><br><span class="line">  width: 70%;</span><br><span class="line">  height: 100rpx;</span><br><span class="line">  color: black;</span><br><span class="line">  background-color: rgb(255, 255, 255);</span><br><span class="line">  position: fixed;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  left: 15%;</span><br><span class="line">  border-radius: 50rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.icon &#123;</span><br><span class="line">  position: fixed;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  width: 15%;</span><br><span class="line">  height: 100rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.language &#123;</span><br><span class="line">  left: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.send &#123;</span><br><span class="line">  right: 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>index.js</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var tool = require(<span class="string">'../../utils/tool.js'</span>)</span><br><span class="line"></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    into: <span class="string">''</span>, //指定滚动条的位置</span><br><span class="line">    content: <span class="string">''</span>, //输入框的内容</span><br><span class="line">    _from: <span class="string">'自动检测'</span>, //默认输入语言</span><br><span class="line">    to: <span class="string">'中文'</span>, //默认翻译语言</span><br><span class="line">    audio_url: <span class="string">''</span>, //音频地址</span><br><span class="line">    text: [&#123;</span><br><span class="line">      _from: <span class="string">''</span>, //输入原文</span><br><span class="line">      to: <span class="string">''</span>, //翻译文字</span><br><span class="line">      audio_from: <span class="string">''</span>, //原文语种</span><br><span class="line">      audio_to: <span class="string">''</span> //翻译语种</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;,</span><br><span class="line">  //输入完毕</span><br><span class="line">  finish: <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    //输入为空 直接返回</span><br><span class="line">    <span class="keyword">if</span> (this.data.content == <span class="string">''</span>)</span><br><span class="line">      <span class="built_in">return</span>;</span><br><span class="line"></span><br><span class="line">    //清空输入框的值  </span><br><span class="line">    var str = this.data.content;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      content: <span class="string">''</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    //获得语言代号</span><br><span class="line">    var f = tool.get_language(this.data._from);</span><br><span class="line">    var t = tool.get_language(this.data.to);</span><br><span class="line">    var that = this;</span><br><span class="line"></span><br><span class="line">    //发送请求</span><br><span class="line">    tool.bdRequest(str, f, t, that);</span><br><span class="line">  &#125;,</span><br><span class="line">  //获取输入框的值</span><br><span class="line">  inputText: <span class="keyword">function</span>(e) &#123;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      content: e.detail.value</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  //点击语言切换按钮</span><br><span class="line">  change_language: <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    wx.navigateTo(&#123;</span><br><span class="line">      url: <span class="string">'../language/language'</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  //点击音频按钮</span><br><span class="line">  audio_click: <span class="keyword">function</span>(e) &#123;</span><br><span class="line">    var index = e.currentTarget.dataset.index; //获得文本的索引</span><br><span class="line">    <span class="keyword">if</span> (e.currentTarget.dataset.type == <span class="string">'from'</span>) &#123;</span><br><span class="line">      var tex = this.data.text[index]._from; //获得原文本</span><br><span class="line">      var lan = this.data.text[index].audio_from; //获得原语种</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      var tex = this.data.text[index].to; //获得翻译文本</span><br><span class="line">      var lan = this.data.text[index].audio_to; //获得翻译文本</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      audio_url: <span class="string">'https://tts.baidu.com/text2audio?tex='</span> + tex + <span class="string">'&amp;cuid=baike&amp;lan='</span> + lan + <span class="string">'&amp;ctp=0&amp;pdt=301&amp;vol=9&amp;rate=32&amp;per=0'</span></span><br><span class="line">    &#125;)</span><br><span class="line">    // console.log(this.data.audio_url);</span><br><span class="line">    this.audioCtx = wx.createAudioContext(<span class="string">'myAudio'</span>);</span><br><span class="line">    this.audioCtx.setSrc(this.data.audio_url);</span><br><span class="line">    this.audioCtx.play();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="language界面（切换语言）"><a href="#language界面（切换语言）" class="headerlink" title="language界面（切换语言）"></a>language界面（切换语言）</h2><p>language.wxml</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;view style=<span class="string">"width:100%;display:flex; flex-direction: row;"</span>&gt;</span><br><span class="line">  &lt;view style=<span class="string">"width:50%"</span>&gt;</span><br><span class="line">    &lt;view class=<span class="string">"tips"</span>&gt;当前：&#123;&#123;_from&#125;&#125;&lt;/view&gt;</span><br><span class="line">    &lt;scroll-view scroll-y=<span class="string">"true"</span>&gt;</span><br><span class="line">      &lt;view wx:<span class="keyword">for</span>=<span class="string">"&#123;&#123;lang1&#125;&#125;"</span> wx:key=<span class="string">"item"</span> style=<span class="string">"margin-top:20px;color:&#123;&#123;index == num1?'red':'black'&#125;&#125;"</span>&gt;</span><br><span class="line">        &lt;text bindtap=<span class="string">"click1"</span> id=<span class="string">"&#123;&#123;index&#125;&#125;"</span> selectable=<span class="string">"true"</span>&gt;&#123;&#123;item&#125;&#125;&lt;/text&gt;</span><br><span class="line">        &lt;text&gt;\n&lt;/text&gt;</span><br><span class="line">      &lt;/view&gt;</span><br><span class="line">    &lt;/scroll-view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line"></span><br><span class="line">  &lt;view style=<span class="string">"width:50%;float:right;"</span>&gt;</span><br><span class="line">    &lt;view class=<span class="string">"tips"</span>&gt;目标：&#123;&#123;to&#125;&#125;&lt;/view&gt;</span><br><span class="line">    &lt;scroll-view scroll-y=<span class="string">"true"</span>&gt;</span><br><span class="line">      &lt;view wx:<span class="keyword">for</span>=<span class="string">"&#123;&#123;lang1&#125;&#125;"</span> wx:key=<span class="string">"item"</span> style=<span class="string">"margin-top:20px;color:&#123;&#123;index == num2?'red':'black'&#125;&#125;"</span>&gt;</span><br><span class="line">        &lt;text bindtap=<span class="string">"click2"</span> wx:<span class="keyword">if</span>=<span class="string">"&#123;&#123;index!=0&#125;&#125;"</span> id=<span class="string">"&#123;&#123;index&#125;&#125;"</span> selectable=<span class="string">"true"</span> bin&gt;&#123;&#123;item&#125;&#125;&lt;/text&gt;</span><br><span class="line">        &lt;text&gt;\n&lt;/text&gt;</span><br><span class="line">      &lt;/view&gt;</span><br><span class="line">    &lt;/scroll-view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>
<p>language.wxss</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.tips &#123;</span><br><span class="line">  color: black;</span><br><span class="line">  font-size: 20px;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">scroll-view &#123;</span><br><span class="line">  height: 1000rpx;</span><br><span class="line">  color: black;</span><br><span class="line">  text-align: center;</span><br><span class="line">  margin-top: 10px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>language.js</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * 页面的初始数据</span><br><span class="line">   */</span><br><span class="line">  data: &#123;</span><br><span class="line">    lang1: [</span><br><span class="line">      <span class="string">'自动检测'</span>,</span><br><span class="line">      <span class="string">'中文'</span>,</span><br><span class="line">      <span class="string">'英语'</span>,</span><br><span class="line">      <span class="string">'粤语'</span>,</span><br><span class="line">      <span class="string">'文言文'</span>,</span><br><span class="line">      <span class="string">'日语'</span>,</span><br><span class="line">      <span class="string">'韩语'</span>,</span><br><span class="line">      <span class="string">'法语'</span>,</span><br><span class="line">      <span class="string">'西班牙语'</span>,</span><br><span class="line">      <span class="string">'阿拉语'</span>,</span><br><span class="line">      <span class="string">'俄语'</span>,</span><br><span class="line">      <span class="string">'葡萄牙语'</span>,</span><br><span class="line">      <span class="string">'德语'</span>,</span><br><span class="line">      <span class="string">'意大利语'</span>,</span><br><span class="line">      <span class="string">'希腊语'</span>,</span><br><span class="line">      <span class="string">'荷兰语'</span>,</span><br><span class="line">      <span class="string">'波兰语'</span>,</span><br><span class="line">      <span class="string">'保加利亚语'</span>,</span><br><span class="line">      <span class="string">'爱沙尼亚语'</span>,</span><br><span class="line">      <span class="string">'丹麦语'</span>,</span><br><span class="line">      <span class="string">'芬兰语'</span>,</span><br><span class="line">      <span class="string">'捷克语'</span>,</span><br><span class="line">      <span class="string">'罗马尼亚语'</span>,</span><br><span class="line">      <span class="string">'斯洛文尼亚语'</span>,</span><br><span class="line">      <span class="string">'瑞典语'</span>,</span><br><span class="line">      <span class="string">'匈牙利语'</span>,</span><br><span class="line">      <span class="string">'繁体中文'</span>,</span><br><span class="line">      <span class="string">'越南语'</span>,</span><br><span class="line">    ],</span><br><span class="line">    _from: <span class="string">''</span>,</span><br><span class="line">    to: <span class="string">''</span>,</span><br><span class="line">    num1: 0,</span><br><span class="line">    num2: 1,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * 生命周期函数--监听页面加载</span><br><span class="line">   */</span><br><span class="line">  onShow: <span class="keyword">function</span> (options) &#123;</span><br><span class="line">    var pages = getCurrentPages();</span><br><span class="line">    <span class="built_in">let</span> prevPage = pages[pages.length - 2]; //prevPage 是获取上一个页面的js里面的pages的所有信息。</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (var i = 0; i &lt; this.data.lang1.length; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (prevPage.data._from == this.data.lang1[i])</span><br><span class="line">        this.setData(&#123;</span><br><span class="line">          num1: i</span><br><span class="line">        &#125;)</span><br><span class="line">      <span class="keyword">if</span> (prevPage.data.to == this.data.lang1[i])</span><br><span class="line">        this.setData(&#123;</span><br><span class="line">          num2: i</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      _from: prevPage.data._from,</span><br><span class="line">      to: prevPage.data.to,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  click1: <span class="keyword">function</span> (e) &#123;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      _from: this.data.lang1[e.target.id],</span><br><span class="line">      num1: e.target.id</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    var pages = getCurrentPages();</span><br><span class="line">    <span class="built_in">let</span> prevPage = pages[pages.length - 2]; //prevPage 是获取上一个页面的js里面的pages的所有信息。</span><br><span class="line">    prevPage.setData(&#123;</span><br><span class="line">      _from: this.data._from,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  click2: <span class="keyword">function</span> (e) &#123;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      to: this.data.lang1[e.target.id],</span><br><span class="line">      num2: e.target.id</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    var pages = getCurrentPages();</span><br><span class="line">    <span class="built_in">let</span> prevPage = pages[pages.length - 2]; //prevPage 是获取上一个页面的js里面的pages的所有信息。</span><br><span class="line">    prevPage.setData(&#123;</span><br><span class="line">      to: this.data.to</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="项目小结"><a href="#项目小结" class="headerlink" title="项目小结"></a>项目小结</h1><h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>1.百度翻译的接口需要md5加密<br>一开始用md5加密还好好的结果遇到中文就不行了 后来换了一个支持中文的md5.js(本项目中的)才解决<br>2.一样的style在行内层叠样式和外部层叠样式显示的效果不同=。=<br>不知道是我错了还是有bug 反正我就放行内了<br>3.本来想加一个背景图片的结果微信直接报错 微信小程序的总文件不能超过2M=。=<br>结果我的png图片要3M多<br>不愧是<strong>小程序</strong>啊 如果一定要放背景图的话可以转成jpg格式的 但算了算了 也懒得放了<br>4.对于不同的手机界面不一定兼容 本项目是在iPhone6.7.8/plus上测试的<br>虽然微信小程序提供了rpx 但是对于屏幕太长的手机在输入次数很多的时候滚动布局还是有点难看<br>不过懒得改了=。= 没错就是这么任性</p>
<h2 id="思考人生"><a href="#思考人生" class="headerlink" title="思考人生"></a>思考人生</h2><p>不得不说虽然css+html看着简单但真要写个完整的前端还是要费点脑子的<br>不知道啥时候我的布局可以指哪放哪哦=。=<br>不过微信小程序这种类似vue的框架对于实现前端的布局和事件响应还是十分方便的 时代变了啊~<br>目前又开始啃react框架了 和vue相比学习起来还是复杂一点 不过不学感觉更不上时代欸<br>芜湖 前路漫漫哦=。=</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>微信小程序</tag>
        <tag>百度翻译接口</tag>
      </tags>
  </entry>
  <entry>
    <title>在hexo中使用自定义的live2d模型</title>
    <url>/hexo-live2d/</url>
    <content><![CDATA[<h2 id="在普通网页使用live2d"><a href="#在普通网页使用live2d" class="headerlink" title="在普通网页使用live2d"></a>在普通网页使用live2d</h2><p>见<a href="https://www.mona.cool/live2d/">https://www.mona.cool/live2d/</a></p>
<h2 id="在hexo使用默认的live2d"><a href="#在hexo使用默认的live2d" class="headerlink" title="在hexo使用默认的live2d"></a>在hexo使用默认的live2d</h2><p>几步就可以~</p>
<h3 id="first"><a href="#first" class="headerlink" title="first"></a>first</h3><p>git bash(我使用的)中输入以下指令 安装live2d插件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure>
<h3 id="second"><a href="#second" class="headerlink" title="second"></a>second</h3><p>在根目录_config.yml添加(没有代码就自己写 有就更改 以下配置可以改着玩)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">live2d:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  scriptFrom: <span class="built_in">local</span></span><br><span class="line">  pluginRootPath: live2dw/</span><br><span class="line">  pluginJsPath: lib/</span><br><span class="line">  pluginModelPath: assets/</span><br><span class="line">  tagMode: <span class="literal">false</span></span><br><span class="line">  debug: <span class="literal">false</span></span><br><span class="line">  model:</span><br><span class="line">    use: 你的live2d名称(例：live2d-widget-model-z16)</span><br><span class="line">  display:</span><br><span class="line">    position: right</span><br><span class="line">    width: 150</span><br><span class="line">    height: 300</span><br><span class="line">  mobile:</span><br><span class="line">    show: <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h3 id="third"><a href="#third" class="headerlink" title="third"></a>third</h3><p>git bash中输入以下指令 安装live2d</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install live2d-widget-model-shizuku(此处为上文mode：use的名称)</span><br></pre></td></tr></table></figure>
<p>详细文档和可用live2d模型见<a href="https://github.com/EYHN/hexo-helper-live2d" target="_blank" rel="noopener">https://github.com/EYHN/hexo-helper-live2d</a></p>
<h2 id="在hexo中使用自己的live2d"><a href="#在hexo中使用自己的live2d" class="headerlink" title="在hexo中使用自己的live2d"></a>在hexo中使用自己的live2d</h2><p>官方的live2d虽然安装简单但是太普通了(还不够可爱啊！！)</p>
<h3 id="1-移动目录"><a href="#1-移动目录" class="headerlink" title="1.移动目录"></a>1.移动目录</h3><p>将你下好的live2d放置themes/next(我的主题)/source中<br>我的live2d保存在github上<br>资源见<a href="https://www.mona.cool/live2d/">https://www.mona.cool/live2d/</a></p>
<h3 id="2-修改layout"><a href="#2-修改layout" class="headerlink" title="2.修改layout"></a>2.修改layout</h3><p>移至themes/next/layout/_layout.swig(或.ejs还是啥的都一样)<br>在body中添加</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!--css的路径--&gt;</span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"https://cdn.jsdelivr.net/gh/q-mona/live2d@latest/live2d/live2d/css/live2d.css"</span> /&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--我的live2d布局--&gt;</span><br><span class="line">&lt;div id=<span class="string">"landlord"</span>&gt;</span><br><span class="line">  &lt;div id=<span class="string">"test"</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">"message"</span> style=<span class="string">"opacity:0"</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;canvas id=<span class="string">"live2d"</span> width=<span class="string">"280"</span> height=<span class="string">"250"</span> class=<span class="string">"live2d"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=<span class="string">"hide-button"</span>&gt;隐藏&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--jQuery路径--&gt;</span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span> src=<span class="string">"https://cdn.jsdelivr.net/gh/q-mona/mona@latest/js/jquery.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  &lt;!--用于message.js中initTips()的url--&gt;</span><br><span class="line">  var message_Path = <span class="string">'/live2d/'</span></span><br><span class="line">  &lt;!--你的主页路径 删了也没啥--&gt;</span><br><span class="line">  var home_Path = <span class="string">'https://q-mona.github.io/'</span></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--引入js--&gt;</span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span> src=<span class="string">"https://cdn.jsdelivr.net/gh/q-mona/live2d@latest/live2d/live2d/js/live2d.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span> src=<span class="string">"https://cdn.jsdelivr.net/gh/q-mona/live2d@1.2/live2d/live2d/js/message.js"</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--引入live2d--&gt;</span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  loadlive2d(<span class="string">"live2d"</span>, <span class="string">"https://cdn.jsdelivr.net/gh/q-mona/live2d@1.2/live2d/live2d/model/tia/model.json"</span>);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>此处所有路径改为你自己的就行<br>注:此处路径和source中的文件同级<br>例:loadlive2d(“live2d”, “live2d/model/tia/model.json”);<br>最后hexo clean &amp;&amp; hexo g &amp;&amp; hexo s就完成了</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>web</tag>
        <tag>hexo</tag>
        <tag>live2d</tag>
      </tags>
  </entry>
  <entry>
    <title>给网站添加live2d</title>
    <url>/live2d/</url>
    <content><![CDATA[<h2 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h2><p>由于时间久远我已经忘了原作者的地址 此资源是我自己改后的版本</p>
<h3 id="demo效果图"><a href="#demo效果图" class="headerlink" title="demo效果图"></a>demo效果图</h3><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/q-mona/live2d@latest/live2d/xxb.PNG" alt="pic"></p>
<h3 id="资源链接"><a href="#资源链接" class="headerlink" title="资源链接"></a>资源链接</h3><p><a href="https://github.com/q-mona/live2d" target="_blank" rel="noopener">https://github.com/q-mona/live2d</a></p>
<h2 id="代码解析"><a href="#代码解析" class="headerlink" title="代码解析"></a>代码解析</h2><h3 id="html代码"><a href="#html代码" class="headerlink" title="html代码"></a>html代码</h3><p>引入css</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"/live2d/css/live2d.css"</span> /&gt;</span><br></pre></td></tr></table></figure>

<p>live2d的整个组件的布局就这些</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">"landlord"</span>&gt;</span><br><span class="line">  &lt;div id=<span class="string">"test"</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">"message"</span> style=<span class="string">"opacity:0"</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;canvas id=<span class="string">"live2d"</span> width=<span class="string">"280"</span> height=<span class="string">"250"</span> class=<span class="string">"live2d"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=<span class="string">"hide-button"</span>&gt;隐藏&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>引入jQuery和js（该live2d有用到jQuery 不引入部分功能会失效）<br>文件的所有路径和home_Path可以改成自己的<br>loadlive2d(“live2d”,”此处为你live2d模型的路径”) json格式</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span> src=<span class="string">"https://cdn.jsdelivr.net/gh/q-mona/mona@latest/js/jquery.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  var message_Path = <span class="string">'/live2d/'</span></span><br><span class="line">  var home_Path = <span class="string">'https://q-mona.github.io/'</span></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span> src=<span class="string">"/live2d/js/live2d.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span> src=<span class="string">"/live2d/js/message.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  loadlive2d(<span class="string">"live2d"</span>, <span class="string">"/live2d/model/tia/xxb_model.json"</span>);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>


<h3 id="message-js"><a href="#message-js" class="headerlink" title="message.js"></a>message.js</h3><p>此处为打开控制台的彩蛋 原作者的代码在我谷歌浏览器上不起作用注释掉了<br>但我的代码在其他浏览器上不一定有作用（IE试过不行）=。= GG<br>想完善的可以自行baidu~</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Object.defineProperty(对象,对象属性,对象属性的特性)</span><br><span class="line"> * get:<span class="function"><span class="title">function</span></span>()&#123;&#125;获取当前值时触发的方法</span><br><span class="line"> * <span class="built_in">set</span>:<span class="keyword">function</span>(value)&#123;x = value&#125;//当设置值的时候触发的函数,设置的新值通过参数value拿到</span><br><span class="line"> */</span><br><span class="line">var element = new Image();</span><br><span class="line">Object.defineProperty(element, <span class="string">'id'</span>, &#123;</span><br><span class="line">    get: <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        /* TODO */</span><br><span class="line">        showMessage(<span class="string">'哈哈，你打开了控制台，是想要看看我的秘密吗？'</span>, 5000);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">//%c表示css样式</span><br><span class="line">console.log(<span class="string">'%cHello'</span>, element);</span><br></pre></td></tr></table></figure>

<p>文章复制时的彩蛋</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$(document).on(<span class="string">'copy'</span>, <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">    showMessage(<span class="string">'你都复制了些什么呀，转载要记得加上出处哦~~'</span>, 5000);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><a href="https://v1.hitokoto.cn/" target="_blank" rel="noopener">https://v1.hitokoto.cn/</a> 为原作者获得互动话题的url 挺好用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">showHitokoto</span></span>() &#123;</span><br><span class="line">    $.getJSON(<span class="string">'https://v1.hitokoto.cn/'</span>, <span class="keyword">function</span> (result) &#123;</span><br><span class="line">        showMessage(result.hitokoto, 5000);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>该函数每次返回一个json对象(hitokoto为互动的语句) 类似<br>{<br>  “id”: 4094,<br>  “hitokoto”: “亲爱的，你的心在哪里？”,<br>  “type”: “c”,<br>  “from”: “少女前线”,<br>  “from_who”: null,<br>  “creator”: “xiaoh”,<br>  “creator_uid”: 2097,<br>  “reviewer”: 0,<br>  “uuid”: “70fa988e-1958-4a6e-bbd2-febd23f7f1ca”,<br>  “created_at”: “1538827044”<br>}</p>
<p>initLive2d() 初始化live2d 此处被我修改过（增加了显示的功能 以前只能隐藏不能显示=。=）<br>你也可以在live2d.css自行修改隐藏的样式和方法</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">initLive2d</span></span>() &#123;</span><br><span class="line">    $(<span class="string">'.hide-button'</span>).fadeOut(0).on(<span class="string">'click'</span>, () =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> ($(<span class="string">'.hide-button'</span>).html() == <span class="string">'显示'</span>) &#123;</span><br><span class="line">            $(<span class="string">'#test'</span>).css(<span class="string">'display'</span>, <span class="string">''</span>);</span><br><span class="line">            $(<span class="string">'.hide-button'</span>).html(<span class="string">'隐藏'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            $(<span class="string">'#test'</span>).css(<span class="string">'display'</span>, <span class="string">'none'</span>);</span><br><span class="line">            $(<span class="string">'.hide-button'</span>).html(<span class="string">'显示'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    $(<span class="string">'#landlord'</span>).hover(() =&gt; &#123;</span><br><span class="line">        $(<span class="string">'.hide-button'</span>).fadeIn(600)</span><br><span class="line">    &#125;, () =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> ($(<span class="string">'.hide-button'</span>).html() != <span class="string">'显示'</span>)</span><br><span class="line">            $(<span class="string">'.hide-button'</span>).fadeOut(600)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="修改message-json"><a href="#修改message-json" class="headerlink" title="修改message.json"></a>修改message.json</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"mouseover"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"selector"</span>: <span class="string">"#landlord #live2d"</span>,</span><br><span class="line">            <span class="string">"text"</span>: [</span><br><span class="line">                <span class="string">"四处走走，你会热爱这个世界"</span>,</span><br><span class="line">                <span class="string">"口味最好杂一点，耳音要好一些，能多听懂几种方言。口味单调一点，耳音差一点，也还不要紧，最要紧的是对生活的兴趣要广一点。"</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"selector"</span>: <span class="string">".reward-container"</span>,</span><br><span class="line">            <span class="string">"text"</span>: [</span><br><span class="line">                <span class="string">"是不小心 点到的吗"</span>,</span><br><span class="line">                <span class="string">"如果可以$$的话 嘻嘻"</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">"click"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"selector"</span>: <span class="string">"#landlord #live2d"</span>,</span><br><span class="line">            <span class="string">"text"</span>: [</span><br><span class="line">                <span class="string">"我的原作者似乎来自德国哦"</span>,</span><br><span class="line">                <span class="string">"你在我身上找什么呢"</span>,</span><br><span class="line">                <span class="string">"呜呜呜（＞人＜；）"</span>,</span><br><span class="line">                <span class="string">"再摸的话我可要报警了！⌇●﹏●⌇"</span>,</span><br><span class="line">                <span class="string">"M！ O！ N！ A！"</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>mouseover为鼠标移入事件 click为鼠标点击事件<br>想要增加更多互动功能 在message.json中新建对象后去message.js的initTips()中增加success回调后的方法<br>selector为选择器 可以填你想要互动组件的id/class/。。。<br>text为互动内容可以随意增删改</p>
<h2 id="引入别的模型"><a href="#引入别的模型" class="headerlink" title="引入别的模型"></a>引入别的模型</h2><h3 id="首先引入资源"><a href="#首先引入资源" class="headerlink" title="首先引入资源"></a>首先引入资源</h3><p>角色动画放入motoins里<br>png图片放入textures里<br>model.moc放入tia下<br>(文件后缀名不同可能加密过 不一定可以使用)<br>路径可以不一样 引用的路径正确就行</p>
<h3 id="修改model-json"><a href="#修改model-json" class="headerlink" title="修改model.json"></a>修改model.json</h3><p>把model和textures路径修改成你的资源</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="string">"model"</span>:<span class="string">"model.moc"</span>,</span><br><span class="line"><span class="string">"textures"</span>:[</span><br><span class="line">    <span class="string">"textures/xxb.png"</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure>


<p>idle空闲时播放的动画<br>sleepy睡觉=。=<br>flick_head点击头部后触发的动画<br>tap_body点击身体后触发的动画<br>把你的动画资源放到合适的地方<br>（例idle有多种动画会定时随机播放一种，大概=。=）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="string">"motions"</span>:&#123;</span><br><span class="line">    <span class="string">"idle"</span>:[    </span><br><span class="line">        &#123;<span class="string">"file"</span>: <span class="string">"motions/Idle.mtn"</span>&#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">"sleepy"</span>:[</span><br><span class="line">        &#123; <span class="string">"file"</span>: <span class="string">"motions/Nemui.mtn"</span>&#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">"flick_head"</span>:[</span><br><span class="line">        &#123;<span class="string">"file"</span>: <span class="string">"motions/Anone_Synced.mtn"</span>&#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">"tap_body"</span>:[</span><br><span class="line">        &#123;<span class="string">"file"</span>: <span class="string">"motions/Dance.mtn"</span>&#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">""</span>:[]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="最后修改html"><a href="#最后修改html" class="headerlink" title="最后修改html"></a>最后修改html</h3><p>loadlive2d(“live2d”, “你的model.json路径”);<br>就ok了=。=</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>web</tag>
        <tag>live2d</tag>
      </tags>
  </entry>
</search>
